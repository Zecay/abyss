<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700;900&family=Inter:wght@300;400;700&display=swap" rel="stylesheet">
<style>
:root {
    --sea-cyan: #00ffff;
    --bg-dark: #010409;
    --biolume: rgba(0, 255, 255, 0.4);
    --text-gray: #94a3b8;
}

* { margin: 0; padding: 0; box-sizing: border-box; }

body {
    background-color: var(--bg-dark);
    color: white;
    font-family: 'Inter', sans-serif;
    overflow-x: hidden;
    width: 100%;
}

/* Header Menu */
header {
    position: fixed;
    top: 0; left: 0; width: 100%;
    background: rgba(1,4,9,0.9);
    display: flex;
    justify-content: center;
    z-index: 200;
    padding: 12px 0;
    border-bottom: 1px solid var(--sea-cyan);
}
header nav {
    display: flex;
    gap: 25px;
}
header nav a {
    color: var(--sea-cyan);
    font-family: 'Orbitron';
    text-decoration: none;
    font-weight: bold;
    letter-spacing: 1px;
    transition: 0.3s;
}
header nav a:hover {
    text-shadow: 0 0 10px var(--sea-cyan);
}

/* Particles & Depth Meter */
#canvas-particles {
    position: fixed;
    top: 0; left: 0;
    width: 100%; height: 100%;
    z-index: -1;
    background: linear-gradient(to bottom, #001a33 0%, #000 100%);
}
#depth-container {
    position: fixed;
    right: 30px;
    top: 50%;
    transform: translateY(-50%);
    z-index: 100;
    text-align: right;
    font-family: 'Orbitron';
    pointer-events: none;
}
#depth-value {
    font-size: 1.2rem;
    color: var(--sea-cyan);
    text-shadow: 0 0 10px var(--sea-cyan);
}
.depth-bar {
    width: 2px;
    height: 150px;
    background: linear-gradient(transparent, var(--sea-cyan), transparent);
    margin: 10px 0 0 auto;
    position: relative;
}
.depth-pointer {
    position: absolute;
    right: -4px;
    width: 10px; height: 10px;
    background: white;
    border-radius: 50%;
    box-shadow: 0 0 10px white;
    transition: 0.1s;
}

/* Sections */
.section {
    min-height: 100vh;
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;
    padding: 120px 20px 80px; /* extra top for header */
    position: relative;
}

/* Live Status */
.live-status {
    background: rgba(0, 255, 255, 0.05);
    border: 1px solid var(--sea-cyan);
    padding: 10px 25px;
    border-radius: 50px;
    font-family: 'Orbitron';
    font-size: 0.75rem;
    color: var(--sea-cyan);
    display: flex;
    align-items: center;
    gap: 12px;
    margin-bottom: 30px;
}
.pulse-dot {
    width: 8px; height: 8px;
    background: var(--sea-cyan);
    border-radius: 50%;
    animation: pulse 2s infinite;
}
@keyframes pulse {
    0%,100% { transform: scale(1); opacity: 1; }
    50% { transform: scale(1.4); opacity: 0.5; }
}

/* Titles & Countdown */
.title {
    font-family: 'Orbitron';
    font-size: clamp(3rem, 12vw, 7rem);
    font-weight: 900;
    letter-spacing: 15px;
    text-shadow: 0 0 40px var(--biolume);
}
.countdown-container {
    display: flex;
    gap: 15px;
    margin: 40px 0;
}
.card {
    background: rgba(0, 255, 255, 0.03);
    border: 1px solid var(--sea-cyan);
    padding: 20px;
    border-radius: 8px;
    min-width: 90px;
    backdrop-filter: blur(5px);
}
.num { font-family: 'Orbitron'; font-size: 2.2rem; color: var(--sea-cyan); display: block; text-align: center; }
.lab { font-size: 0.6rem; text-transform: uppercase; letter-spacing: 2px; color: var(--text-gray); display: block; text-align: center; }

/* Buttons */
.btn-row { display: flex; gap: 20px; flex-wrap: wrap; justify-content: center; }
.btn { text-decoration: none; padding: 18px 35px; font-family: 'Orbitron'; font-size: 0.8rem; letter-spacing: 2px; text-transform: uppercase; border-radius: 4px; transition: 0.3s; font-weight: bold; }
.btn-fill { background: var(--sea-cyan); color: #000; }
.btn-line { border: 1px solid var(--sea-cyan); color: var(--sea-cyan); }

/* Content Box / Wiki Preview */
.content-box { max-width: 900px; text-align: center; }
.content-box h2 { font-family: 'Orbitron'; color: var(--sea-cyan); font-size: 2.2rem; margin-bottom: 25px; }
.content-box p { font-size: 1.1rem; line-height: 1.8; color: var(--text-gray); margin-bottom: 40px; }
.feature-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 30px; width: 100%; margin-top: 40px; }
.feature-item {
    background: rgba(255, 255, 255, 0.02);
    padding: 30px;
    border-radius: 15px;
    border: 1px solid rgba(0, 255, 255, 0.1);
    text-align: left;
    transition: 0.3s;
}
.feature-item:hover { border-color: var(--sea-cyan); }
.feature-item h4 { font-family: 'Orbitron'; color: var(--sea-cyan); margin-bottom: 12px; text-transform: uppercase; }
.feature-item p { font-size: 0.9rem; line-height: 1.6; margin: 0; }
.tag { display: inline-block; background: rgba(0, 255, 255, 0.1); color: var(--sea-cyan); padding: 4px 12px; border-radius: 4px; font-size: 0.7rem; font-family: 'Orbitron'; margin-bottom: 15px; }

@media (max-width: 600px) {
    .title { letter-spacing: 5px; font-size: 2.5rem; }
    .card { min-width: 70px; padding: 10px; }
    .num { font-size: 1.5rem; }
}
</style>
</head>
<body>

<header>
  <nav>
    <a href="#home" onclick="showSection('home')">Home</a>
    <a href="#wiki" onclick="showSection('wiki')">Wiki</a>
    <a href="https://discord.gg/deepspirit" target="_blank">Discord</a>
    <a href="https://www.roblox.com/communities/34898222" target="_blank">Roblox Group</a>
  </nav>
</header>

<canvas id="canvas-particles"></canvas>

<div id="depth-container">
    <div id="depth-value">0m</div>
    <div class="depth-bar">
        <div class="depth-pointer" id="pointer"></div>
    </div>
</div>

<!-- Home Section -->
<section class="section" id="home">
    <div class="live-status">
        <div class="pulse-dot"></div>
        <span>DIVERS ONLINE: <span id="p-count">0</span></span>
    </div>
    <h1 class="title">ABYSS</h1>
    <p style="color: var(--sea-cyan); letter-spacing: 8px; font-size: 0.8rem; margin-top: 10px;">FEBRUARY 8, 2026</p>

    <div id="timer" class="countdown-container">
        <div class="card"><span class="num" id="d">00</span><span class="lab">Days</span></div>
        <div class="card"><span class="num" id="h">00</span><span class="lab">Hours</span></div>
        <div class="card"><span class="num" id="m">00</span><span class="lab">Mins</span></div>
        <div class="card"><span class="num" id="s">00</span><span class="lab">Secs</span></div>
    </div>

    <div class="btn-row">
        <a href="https://discord.gg/deepspirit" target="_blank" class="btn btn-fill">Join Beta Discord</a>
        <a href="https://www.roblox.com/communities/34898222" target="_blank" class="btn btn-line">Roblox Group</a>
    </div>
</section>

<!-- Wiki Section -->
<section class="section" id="wiki" style="background: rgba(0,0,0,0.4); display:none;">
    <div class="content-box">
        <div class="tag">DEEP SEA RPG</div>
        <h2>WIKI OVERVIEW</h2>
        <p>Explore the world of Abyss! Click on categories below to view details about Classes, Creatures, Gear, and Zones.</p>

        <div class="feature-grid">
            <div class="feature-item"><h4>Classes</h4><p>View all diver classes and their subclasses.</p></div>
            <div class="feature-item"><h4>Creatures</h4><p>All creatures and monsters you can encounter.</p></div>
            <div class="feature-item"><h4>Gear</h4><p>All equipment and upgrades in the game.</p></div>
            <div class="feature-item"><h4>Zones</h4><p>All locations and biomes in the Abyss.</p></div>
        </div>
    </div>
</section>

<script>
// --- Section Toggle ---
function showSection(id) {
    document.querySelectorAll('.section').forEach(s => s.style.display = 'none');
    document.getElementById(id).style.display = 'flex';
}

// --- PARTICLES ---
const canvas = document.getElementById('canvas-particles');
const ctx = canvas.getContext('2d');
let particles = [];
function initParticles() {
    canvas.width = window.innerWidth;
    canvas.height = window.innerHeight;
    particles = [];
    for (let i=0;i<80;i++) {
        particles.push({x:Math.random()*canvas.width, y:Math.random()*canvas.height, size:Math.random()*2, speed:Math.random()*0.4+0.1});
    }
}
function animateParticles() {
    ctx.clearRect(0,0,canvas.width,canvas.height);
    ctx.fillStyle = "rgba(0,255,255,0.3)";
    particles.forEach(p=>{
        ctx.beginPath();
        ctx.arc(p.x,p.y,p.size,0,Math.PI*2);
        ctx.fill();
        p.y-=p.speed;
        if(p.y<0)p.y=canvas.height;
    });
    requestAnimationFrame(animateParticles);
}
window.addEventListener('resize', initParticles);
initParticles();
animateParticles();

// --- DEPTH METER ---
window.addEventListener('scroll',()=>{
    const depth = Math.floor(window.scrollY*2.5);
    document.getElementById('depth-value').innerText = `${depth}m`;
    const scrollPercent = (window.scrollY / (document.documentElement.scrollHeight - window.innerHeight)) * 100;
    document.getElementById('pointer').style.top = `${scrollPercent}%`;
});

// --- COUNTDOWN ---
const releaseTarget = new Date('2026-02-08T18:00:00Z').getTime();
function updateCountdown() {
    const now = Date.now();
    const diff = releaseTarget - now;
    if(diff<=0){
        document.getElementById('timer').innerHTML = "<h2 style='color:var(--sea-cyan); font-family:Orbitron;'>THE ABYSS HAS OPENED</h2>";
        return;
    }
    const days = Math.floor(diff/(1000*60*60*24));
    const hours = Math.floor((diff % (1000*60*60*24))/(1000*60*60));
    const mins = Math.floor((diff % (1000*60*60))/(1000*60));
    const secs = Math.floor((diff % (1000*60))/1000);
    document.getElementById('d').innerText = days.toString().padStart(2,'0');
    document.getElementById('h').innerText = hours.toString().padStart(2,'0');
    document.getElementById('m').innerText = mins.toString().padStart(2,'0');
    document.getElementById('s').innerText = secs.toString().padStart(2,'0');
}
setInterval(updateCountdown,1000);
updateCountdown();

// --- DIVERS ONLINE ---
const pCountEl = document.getElementById('p-count');
async function updatePlayerCount(){
    try{
        const res = await fetch("https://roblox-player-api-blond.vercel.app/api/players");
        const data = await res.json();
        const players = data?.players ?? 0;
        pCountEl.innerText = players.toLocaleString();
    }catch(err){
        pCountEl.innerText='0';
        console.warn('Could not fetch player count:',err);
    }
}
updatePlayerCount();
setInterval(updatePlayerCount,10000);

// --- VERSION DISPLAY ---
const versionEl = document.createElement('div');
versionEl.style.position='fixed';
versionEl.style.top='10px';
versionEl.style.right='10px';
versionEl.style.fontFamily='Orbitron';
versionEl.style.color='var(--sea-cyan)';
versionEl.style.fontSize='0.8rem';
versionEl.innerText='v0.4';
document.body.appendChild(versionEl);
</script>
</body>
</html>
